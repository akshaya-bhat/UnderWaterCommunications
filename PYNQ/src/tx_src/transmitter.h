/*
	Filename: transmitter.h
		Header file
		transmitter for Underwater Communications: Scuba Chat

*/
#ifndef TRANSMITTER_H_
#define TRANSMITTER_H_

#include <iostream>

using namespace std;


typedef int	coef_t;
typedef int data_t;


/**
 * Parameters
 */
 //sampling frequency
//#define NN 140 //length of data payload
//#define NHalf 70
#define oversample 16 //samples per symbol
#define preambleLen 64
#define preambleLenHalf 32


#define GOL_LEN 32
const double fc = 40000;
const double fs = 115000;

//PNGEN
//const int pnGenSequence[64] = {1,	1,	1,	1,	0,	1,	0,	1,	1,	0,	0,	1,	0,	0,	0,	1,	1,	1,	1,	0,	1,	0,	1,	1,	0,	0,	1,	0,	0,	0,	1,	1,	1,	1,	0,	1,	0,	1,	1,	0,	0,	1,	0,	0,	0,	1,	1,	1,	1,	0,	1,	0,	1,	1,	0,	0,	1,	0,	0,	0,	1,	1,	1,	0};
const int pnGenSequence[8] = {245, 145, 235, 35, 214, 71, 172, 142};
//CONVOLUTIONAL ENCODER

//GOLAY PREAMBLE
const int Ga[GOL_LEN] = {1,1,1,1,1,-1,1,-1,-1,-1,1,1,1,-1,-1,1,1,1,-1,-1,1,-1,-1,1,-1,-1,-1,-1,1,-1,1,-1};
const int Gb[GOL_LEN] = {-1,-1,-1,-1,-1,1,-1,1,1,1,-1,-1,-1,1,1,-1,1,1,-1,-1,1,-1,-1,1,-1,-1,-1,-1,1,-1,1,-1};

//PULSE SHAPING
const float h[97] = {0.00075802,-0.00057418,-0.0019114,-0.0031321,-0.0041138,-0.0047435,-0.0049286,-0.0046062,-0.003752,-0.0023862,-0.00057678,0.0015609,0.0038678,0.006149,0.0081854,0.0097475,0.010612,0.010581,0.0094986,0.007268,0.0038678,-0.00063817,-0.0060933,-0.012247,-0.01876,-0.025213,-0.031125,-0.035972,-0.039218,-0.040337,-0.03885,-0.034349,-0.026531,-0.015217,-0.00037652,0.017865,0.039218,0.063234,0.089316,0.11674,0.14468,0.17226,0.19854,0.22263,0.24367,0.2609,0.27368,0.28155,0.28421,0.28155,0.27368,0.2609,0.24367,0.22263,0.19854,0.17226,0.14468,0.11674,0.089316,0.063234,0.039218,0.017865,-0.00037652,-0.015217,-0.026531,-0.034349,-0.03885,-0.040337,-0.039218,-0.035972,-0.031125,-0.025213,-0.01876,-0.012247,-0.0060933,-0.00063817,0.0038678,0.007268,0.0094986,0.010581,0.010612,0.0097475,0.0081854,0.006149,0.0038678,0.0015609,-0.00057678,-0.0023862,-0.003752,-0.0046062,-0.0049286,-0.0047435,-0.0041138,-0.0031321,-0.0019114,-0.00057418,0.00075802};

//SIN AND COS LUT
const float cos_coefficients_table[23]={1,-0.57668,-0.33488,0.96292,-0.77571,-0.068242,0.85442,-0.91721,0.20346,0.68255,-0.99069,0.46007,0.46007,-0.99069,0.68255,0.20346,-0.91721,0.85442,-0.068242,-0.77571,0.96292,-0.33488,-0.57668};

const float sin_coefficients_table[23]={0,0.81697,-0.94226,0.2698,0.63109,-0.99767,0.51958,0.3984,-0.97908,0.73084,0.13617,-0.88789,0.88789,-0.13617,-0.73084,0.97908,-0.3984,-0.51958,0.99767,-0.63109,-0.2698,0.94226,-0.81697};


extern "C" {
//void transmitter (data_t* input_i, data_t* input_q, float* output_i);
void transmitter (string input, float* output_i, int N);
//void transmitter (string input, int len);
}

#endif
